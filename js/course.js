!function(t,e,n){"use strict";function i(t){var e=window.localStorage;this.key=t,this.get=function(t){var n=(e.getItem(this.key)||"").split(",");if(t){t+="";var i=n.indexOf(t);if(i>=0)return n[i]}return n},this.set=function(t){return"string"!=typeof t&&(t=t.join(",")),e.setItem(this.key,t),t.split(",")},this.hasSection=function(t){t+="";var e=this.get().indexOf(t);return e>=0&&e},this.add=function(t){t+="";var e=this.get();if(!this.hasSection(t))return e.push(t),this.set(e),e},this.remove=function(t){t+="";var e=this.hasSection(t);if(!1!==e){var n=this.get();return n.splice(e,1),this.set(n),n}return!1}}function o(n){var o,s,r=new i("sections"),c=t("body"),a=t(".content-item-scrollable"),l=t("#learn-press-course-curriculum"),u=t("#learn-press-content-item"),d=l.find(".curriculum-scrollable"),f=t("#course-item-content-header"),h=t("#course-item-content-footer"),m=l.find(".course-item"),p=!1;function g(e){var n,i=t(e.target);i.is("input.option-check")||(n=i.closest(".answer-option").find("input.option-check")).length&&(n.is(":disabled")||(n.is(":checkbox")?n[0].checked=!n[0].checked:n[0].checked=!0))}function v(){var e=t(this).closest(".section").data("section-id");t(this).siblings(".section-content").slideToggle((function(){t(this).is(":visible")?r.remove(e):r.add(e)}))}function w(n,i){if(!t(document.body).hasClass("course-item-popup")){var o=t(i);0!==o.closest(".course-nav").siblings().length&&e.setUrl(o.attr("href"))}}function y(e){if("keypress"===e.type&&13===e.keyCode)return!1;var n=this.value,i=new RegExp(n,"ig");m.map((function(){var e=t(this);e.find(".item-name").text().match(i)||!n.length?e.show():e.hide()})),t(".section").show().each((function(){n.length?t(this).find(".section-content").children(":visible").length?t(this).show():t(this).hide():t(this).show()})),t(this).closest(".course-item-search").toggleClass("has-keyword",!!this.value.length)}function b(e){t(this).closest(".course-item-search").find("input").val("").trigger("keyup")}function k(){t("#qm").css({"z-index":999999999,position:"relative"}),t("html, body").css("overflow","auto")}function C(){return l.outerWidth()}function T(t){}function S(e){t(document)[e?"off":"on"]("mousemove.maybe-show-curriculum","body",T)}function x(){s&&clearTimeout(s),s=setTimeout((function(){var e=C();o&&(l.stop().animate({left:-e}),u.stop().animate({left:0}),h.stop().animate({left:0},(function(){t(document,window).trigger("learn-press/toggle-content-item")})),f.find(".course-item-search").hide(),!1,S())}),3e3)}function O(e){e.preventDefault();var n=C();o=c.toggleClass("full-screen-content-item").hasClass("full-screen-content-item"),l.stop().animate({left:o?-n:0}),u.stop().animate({left:o?0:n}),h.stop().animate({left:o?0:n},(function(){t(document,window).trigger("learn-press/toggle-content-item")})),!o,window.localStorage&&window.localStorage.setItem("lp-full-screen",o?"yes":"no"),o&&S(),f.find(".course-title").stop().animate({marginLeft:o?-n:0}),f.find(".course-item-search").stop().animate({opacity:o?0:1})}function L(){t(document).on("learn-press/nav-tabs/clicked",w).on("keyup keypress",".course-item-search input",y).on("click",".course-item-search button",b).on("click","#wp-admin-bar-query-monitor",k).on("click",".answer-options .answer-option",g).on("click",".section-header",v).on("submit","form.lp-form",(function(){!function(e){var n=t(".answer-options"),i=t(e),o=n.serializeJSON(),s=t('<input type="hidden" name="question-data" />').val(JSON.stringify(o));if("post"===(i.attr("method")+"").toLowerCase())i.find('input[name="question-data"]').remove(),i.append(s).append(t("<div />").append(n.clone()).hide())}(this)})).on("click",".toggle-content-item",O),l.hover((function(){s&&clearTimeout(s)}),(function(){o&&x()}))}new e.Alerts,function(){if(p=c.hasClass("course-item-popup"),function(){var e=t(".course-item.current").closest(".section"),n=t(".curriculum-sections").find(".section"),i=e.data("section-id"),o=[];o=e?r.remove(i):r.get();for(var s=0;s<o.length;s++)n.filter('[data-section-id="'+o[s]+'"]').find(".section-content").hide()}(),L(),p){if(u.appendTo(c),l.appendTo(c),t("#wpadminbar").length&&(c.addClass("wpadminbar"),32),a.addClass("scrollbar-light").scrollbar({scrollx:!1}),a.parent().css({position:"absolute",top:0,bottom:t("#course-item-content-footer:visible").outerHeight()||0,width:"100%"}).css("opacity",1).end().css("opacity",1),d.addClass("scrollbar-light").scrollbar({scrollx:!1}),d.parent().css({position:"absolute",top:0,bottom:0,width:"100%"}).css("opacity",1).end().css("opacity",1),function(){var e=t(".content-item-summary.content-item-video");if(e.length){var n,i,o=e.find(".entry-video"),s=o.find("iframe"),r=s.attr("width"),c=s.attr("height"),a=1;if(!o.length)return!1;r&&c&&-1===r.indexOf("%")&&-1===c.indexOf("%")&&(a=c/r),t(window).on("resize.fit-content-video learn-press/toggle-content-item",(function(){i&&clearTimeout(i),i=setTimeout(l,250)})).trigger("resize.fit-content-video"),t(".content-item-scrollable").scroll((function(){t(this).find(".entry-video").css("padding-top",this.scrollTop)}))}function l(){var t=s.width();n=t*a,s.css({height:n,marginLeft:(o.width()-t)/2}),e.css({paddingTop:n})}}(),o=window.localStorage&&"yes"===window.localStorage.getItem("lp-full-screen"),t(window).width()<=768&&(o=!0),o){var e=C();c.addClass("full-screen-content-item"),u.css("left",0),l.css("left",-e),h.css("left",0),!o,f.find(".course-title").css({marginLeft:o?-e:0}),f.find(".course-item-search").css({opacity:o?0:1}),S()}setTimeout((function(){var e=c.find(".curriculum-sections").parent();e.scrollTo(e.find(".course-item.current"),100),window.location.hash&&t(".content-item-scrollable:last").scrollTo(t(window.location.hash))}),300),c.css("opacity",1)}}()}e.Alerts=function(){this.isShowing=!1;var e=t(document),n=this,i=function(o){try{var s=t(this),r=s.data("confirm");return r=function(n,i){var o=e.triggerHandler(n,i);return void 0!==o?o:t.isArray(i)?i[0]:void 0}("learn-press/confirm-message",[r,s.data("action")]),r?(jConfirm(r,"",(function(t){t&&s.off("submit.learn-press-confirm",i).submit(),n.isShowing=!1})),n.isShowing=!0,!1):!0}catch(t){console.log(t)}return!0};this.watchChange("isShowing",(function(e,n,i){if(i){setTimeout((function(){t.alerts._reposition(),t("#popup_container").addClass("ready")}),30);var o=t('<a href="" class="close"><i class="fa fa-times"></i></a>');t("#popup_container").append(o),o.on("click",(function(){return t.alerts._hide(),!1}))}return t(document.body).toggleClass("confirm",i),i}));t("form[data-confirm]").on("submit.learn-press-confirm",i)},t(document).ready((function(){new o({}),t(this).on("submit",'form[name="course-external-link"]',(function(){var e=t(this).attr("action");if(e)return window.location.href=e,!1}));var e=t(".course-item-is-blocked"),n=e.val();e.length&&n<2147483647&&setTimeout((function(){window.location.reload(!0)}),n)}))}(jQuery,LP,_);